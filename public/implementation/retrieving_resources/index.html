<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.19" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    
    <title>Resource ophalen</title>
    <link href="https://doc.perinatologie.nl//css/nucleus.css" rel="stylesheet">
    <link href="https://doc.perinatologie.nl//css/font-awesome.min.css" rel="stylesheet">
    <link href="https://doc.perinatologie.nl//css/hybrid.css" rel="stylesheet">
    <link href="https://doc.perinatologie.nl//css/featherlight.min.css" rel="stylesheet">
    <link href="https://doc.perinatologie.nl//css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://doc.perinatologie.nl//css/horsey.css" rel="stylesheet">
    <link href="https://doc.perinatologie.nl//css/theme.css" rel="stylesheet">
    <link href="https://doc.perinatologie.nl//css/hugo-theme.css" rel="stylesheet">
    <script src="https://doc.perinatologie.nl//js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    <link href="/css/perinatologie.css" rel="stylesheet">

  </head>
  <body class="" data-url="/implementation/retrieving_resources/">
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <h1>perinatologie.nl</h1>
<h2>Developer documentatie</h2>


    </div>
    
</div>


  <div class="highlightable">
    <ul class="topics">
      
      
        
      
      
      
      

      
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/">
        <a href="/">
          <span>
            
             Welkom
            
           </span>
        </a>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/architecture/">
        <a href="/architecture/">
          <span>
            
             PeriHub Architectuur
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/architecture/introduction/">
              <a href="/architecture/introduction/">
                <span>Inleiding     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/architecture/accounts/">
              <a href="/architecture/accounts/">
                <span>Accounts     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/architecture/resources/">
              <a href="/architecture/resources/">
                <span>Resources     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/architecture/register/">
              <a href="/architecture/register/">
                <span>Resources registreren     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/architecture/search/">
              <a href="/architecture/search/">
                <span>Resources zoeken     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/architecture/tokens/">
              <a href="/architecture/tokens/">
                <span>Tokens     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/format/">
        <a href="/format/">
          <span>
            
             Formaat en Dataset
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/format/introduction/">
              <a href="/format/introduction/">
                <span>Inleiding     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/format/github/">
              <a href="/format/github/">
                <span>Github projecten     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/format/elements/">
              <a href="/format/elements/">
                <span>Elementen     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/format/structure/">
              <a href="/format/structure/">
                <span>Structuur     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/format/examples/">
              <a href="/format/examples/">
                <span>Voorbeelden     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/implementation/">
        <a href="/implementation/">
          <span>
            
             Implementatie handleiding
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/implementation/introduction/">
              <a href="/implementation/introduction/">
                <span>Inleiding     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/implementation/authentication/">
              <a href="/implementation/authentication/">
                <span>Authenticatie     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/implementation/transport/">
              <a href="/implementation/transport/">
                <span>Transport     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/implementation/endpoint_2/">
              <a href="/implementation/endpoint_2/">
                <span>[GET] /v3/resources/{resourceKey}     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/implementation/endpoint_share_add/">
              <a href="/implementation/endpoint_share_add/">
                <span>[GET] /v3/resources/{resourceKey}/add-share/{accountName}/{permission}     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/implementation/endpoint_share_remove/">
              <a href="/implementation/endpoint_share_remove/">
                <span>[GET] /v3/resources/{resourceKey}/remove-share/{accountName}     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/implementation/endpoint_4/">
              <a href="/implementation/endpoint_4/">
                <span>[GET] /v3/resources/{resourceKey}/shares     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/implementation/endpoint_3/">
              <a href="/implementation/endpoint_3/">
                <span>[GET] /v3/resources/{resourceKey}/source     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/implementation/endpoint_1/">
              <a href="/implementation/endpoint_1/">
                <span>[GET] /v3/resources?k=v     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/implementation/endpoint_register/">
              <a href="/implementation/endpoint_register/">
                <span>[POST] /v3/register     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item active" data-nav-id="/implementation/retrieving_resources/">
              <a href="/implementation/retrieving_resources/">
                <span>Resource ophalen     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/messagebox/">
        <a href="/messagebox/">
          <span>
            
             MessageBox
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/messagebox/introduction/">
              <a href="/messagebox/introduction/">
                <span>Inleiding     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/messagebox/endpoint_1/">
              <a href="/messagebox/endpoint_1/">
                <span>[GET] /api/v1/{accountName}/{boxName}/messages     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/messagebox/endpoint_3/">
              <a href="/messagebox/endpoint_3/">
                <span>[GET] /api/v1/{accountName}/{boxName}/messages/{messageId}/archive     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/messagebox/endpoint_2/">
              <a href="/messagebox/endpoint_2/">
                <span>[GET] /api/v1/{accountName}/{boxName}/messages/{messageId}/content     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/messagebox/endpoint_4/">
              <a href="/messagebox/endpoint_4/">
                <span>[GET] /api/v1/{accountName}/{boxName}/messages/{messageId}/unarchive     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/messagebox/endpoint_6/">
              <a href="/messagebox/endpoint_6/">
                <span>[POST] /api/v1/{accountName}/{boxName}/messages/{messageId}/properties/add     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/messagebox/endpoint_5/">
              <a href="/messagebox/endpoint_5/">
                <span>[POST] /api/v1/{accountName}/{boxName}/send     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
    </ul>
    <hr>
     
     
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                
                
                
                  
                
                  
                
                  
                
                  
                    
                    
                <a href="/implementation/" itemprop="url"><span itemprop="title">Implementatie handleiding</span></a> <i class="fa fa-angle-right"></i>
                    
                  
                
                  
                
                <span itemprop="title"> Resource ophalen</span>
              </div>
              

            </div>
            
    	        <div id="body-inner">
                
                <h1>Resource ophalen</h1>
                



<h2 id="opvragen-dossier-bij-doelsysteem">Opvragen dossier bij doelsysteem</h2>

<p>De hub geeft voor elke resource een source element terug. Deze source bevat een URL en een JWT. Deze informatie kan vervolgens gebruikt worden om een volledige en actuele versie van het dossier op te halen bij de provider van het betreffende resource.</p>

<p>De bevrager kan een HTTPS GET request uitvoeren naar de URL die ontvangen is door de Hub. Hieraan wordt als Query parameter de JWT toegevoegd.
Bijvoorbeeld:</p>

<ul>
<li><a href="https://api.example.com/dossierapi/12345/G3?jwt=...">https://api.example.com/dossierapi/12345/G3?jwt=...</a>.</li>
</ul>

<p>Zie voorgaande hoofdstukken voor de claims die in het JWT zijn ge-encodeerd.</p>

<p>Bij het implementeren van de provider api is het van groot belang dat de provider de JWT valideerd mbv de public key van de Hub, en dat daarnaast de claims ook worden gevalideerd.</p>

<ul>
<li>De waarde van iss moet <a href="https://hub.perinatologie.nl">https://hub.perinatologie.nl</a> zijn.</li>
<li>De waarde van aud moet het accountname van de provider zijn (anders kan een geldig JWT bij een andere provider worden gebruikt om data van een bepaald BSN op te vragen).</li>
<li>De waarde van sub moet overeenkomen met het opgevraagde BSN in de URL (anders kan mbv een andere URL een andere resource data opgehaald worden)</li>
<li>nbf en exp dienen gecontroleerd te worden (anders kan op een later tijdstip dezelfde JWT gebruikt worden). Het is te adviseren de API server klokken te synchroniseren.</li>
<li>acc_name en acc_displayname zijn ter info voor logging bij de provider.</li>
</ul>

<h2 id="bron-data-formaat">Bron data formaat</h2>

<p>Het formaat van de data die teruggegeven zal worden door de provider op de genoemde URL wordt bepaald door het resource type.</p>

<p>In geval van resource type <code>perinatologie/dossier</code> is dit het door leveranciers overeengekomen formaat “Form XML”.</p>


      
      </div>
    </div>

    <div id="navigation">
        
        
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://doc.perinatologie.nl//js/clipboard.min.js"></script>
    <script src="https://doc.perinatologie.nl//js/perfect-scrollbar.min.js"></script>
    <script src="https://doc.perinatologie.nl//js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://doc.perinatologie.nl//js/jquery.sticky-kit.min.js"></script>
    <script src="https://doc.perinatologie.nl//js/featherlight.min.js"></script>
    <script src="https://doc.perinatologie.nl//js/html5shiv-printshiv.min.js"></script>
    <script src="https://doc.perinatologie.nl//js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://doc.perinatologie.nl//js/modernizr.custom.71422.js"></script>
    <script src="https://doc.perinatologie.nl//js/learn.js"></script>
    <script src="https://doc.perinatologie.nl//js/hugo-learn.js"></script>
    

  </body>
</html>

